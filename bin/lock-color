#!/bin/bash
TMPBG=/tmp/screen.png
RES=1366x768

rm $TMPBG
ffmpeg -f x11grab -video_size $RES -i $DISPLAY -filter_complex "boxblur=8:8" -vframes 1 $TMPBG

B='#00000000'  # blank
C='#ffffff22'  # clear ish
D='#f1f1f1cc'  # default
T='#FFFFFFFF'  # text
W='#73d216bb'  # wrong
V='#FFFFFFFF'  # verifying

i3lock \
  -i $TMPBG \
  --composite \
  --insidevercolor=$C   \
  --ringvercolor=$V     \
  --insidewrongcolor=$C \
  --ringwrongcolor=$W   \
  --insidecolor=$B      \
  --ringcolor=$D        \
  --linecolor=$B        \
  --separatorcolor=$D   \
  --verifcolor=$T        \
  --wrongcolor=$T        \
  --timecolor=$T        \
  --datecolor=$T        \
  --layoutcolor=$T      \
  --keyhlcolor=$W       \
  --bshlcolor=$W        \
  --screen 1            \
  --timestr="%H:%M"  \
  --datestr="%A, %m %Y" \
  --keylayout 2

rm $TMPBG
